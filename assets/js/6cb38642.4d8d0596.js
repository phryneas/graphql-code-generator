(self.webpackChunk_graphql_codegen_website=self.webpackChunk_graphql_codegen_website||[]).push([[5372],{35318:function(e,t,n){"use strict";n.d(t,{Zo:function(){return s},kt:function(){return d}});var o=n(27378);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=o.createContext({}),l=function(e){var t=o.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},s=function(e){var t=l(e.components);return o.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},f=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,u=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),f=l(n),d=r,m=f["".concat(u,".").concat(d)]||f[d]||p[d]||i;return n?o.createElement(m,a(a({ref:t},s),{},{components:n})):o.createElement(m,a({ref:t},s))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=f;var c={};for(var u in t)hasOwnProperty.call(t,u)&&(c[u]=t[u]);c.originalType=e,c.mdxType="string"==typeof e?e:r,a[1]=c;for(var l=2;l<i;l++)a[l]=n[l];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}f.displayName="MDXCreateElement"},80549:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return a},metadata:function(){return c},toc:function(){return u},default:function(){return s}});var o=n(29603),r=n(50120),i=(n(27378),n(35318)),a={id:"validate-configuration",title:"Validate Plugin Configuration"},c={unversionedId:"custom-codegen/validate-configuration",id:"custom-codegen/validate-configuration",isDocsHomePage:!1,title:"Validate Plugin Configuration",description:"Each plugin can also provide a function to validate the configuration before executing it.",source:"@site/docs/custom-codegen/validate-configuration.md",sourceDirName:"custom-codegen",slug:"/custom-codegen/validate-configuration",permalink:"/docs/custom-codegen/validate-configuration",editUrl:"https://github.com/dotansimha/graphql-code-generator/edit/master/website/docs/custom-codegen/validate-configuration.md",version:"current",frontMatter:{id:"validate-configuration",title:"Validate Plugin Configuration"},sidebar:"sidebar",previous:{title:"Write your first Plugin",permalink:"/docs/custom-codegen/write-your-plugin"},next:{title:"How to extend the GraphQL Schema?",permalink:"/docs/custom-codegen/extend-schema"}},u=[],l={toc:u};function s(e){var t=e.components,n=(0,r.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,o.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Each plugin can also provide a function to validate the configuration before executing it."),(0,i.kt)("p",null,"You can use this function to test for other plugins existence (for example, if your plugin requires another plugin to function correctly), to validate the name and path of the output file, validate the schema or documents, and much more!"),(0,i.kt)("p",null,"To add your plugin validation method, export a function called ",(0,i.kt)("inlineCode",{parentName:"p"},"validate")," from your plugin file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  plugin: (schema, documents, config, info) => {\n    const typesMap = schema.getTypeMap();\n\n    return Object.keys(typesMap).join('\\n');\n  },\n  validate: (schema, documents, config, outputFile, allPlugins) => {}\n};\n")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"outputFile")," is the name of the output file, and you can use it to enforce specific filename of specific file extension.")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},(0,i.kt)("inlineCode",{parentName:"p"},"allPlugins")," is list of all plugins that requested in this specific output file - use it to create dependencies between plugins.")),(0,i.kt)("p",null,"You can now check the schema, documents, configuration, output file and sibling plugins, and in case something does not fits your requirements, throw an ",(0,i.kt)("inlineCode",{parentName:"p"},"Error"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"module.exports = {\n  plugin: (schema, documents, config, info) => {\n    const typesMap = schema.getTypeMap();\n\n    return Object.keys(typesMap).join('\\n');\n  },\n  validate: (schema, documents, config, outputFile, allPlugins) => {\n    if (!config.mustHave) {\n      throw new Error(`You must specify \"mustHave\" in my plugin configuration!`);\n    }\n  }\n};\n")))}s.isMDXComponent=!0}}]);